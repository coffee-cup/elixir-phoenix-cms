<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title><%= Map.get(assigns, :title, title()) %></title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/png" href="/favicon-32x32.png?v=2" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png?v=2" sizes="16x16">
    <link rel="shortcut icon" href="/favicon.ico?v=2">
    <link rel="author" href="humans.txt" />

    <!-- Search Engine -->
    <!-- Schema.org for Google -->
    <meta itemprop="name" content="<%= Map.get(assigns, :title, title()) %>">
    <meta itemprop="description" content="<%= Map.get(assigns, :description, description()) %>">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="<%= Map.get(assigns, :title, title()) %>">
    <meta name="twitter:description" content="<%= Map.get(assigns, :description, description()) %>">
    <meta name="twitter:site" content="@jakerunzer">
    <meta name="twitter:creator" content="@jakerunzer">
    <meta property="twitter:account_id" content="257201577">
    <%= if Map.has_key?(assigns, :image) do %>
      <meta name="twitter:image" content="<%= Map.get(assigns, :image) %>">
    <% end %>

    <!-- Open Graph general (Facebook, Pinterest & Google+) -->
    <meta property="og:title" content="<%= Map.get(assigns, :title, title()) %>">
    <meta property="og:description" content="<%= Map.get(assigns, :description, description()) %>">
    <meta property="og:url" content="<%= Map.get(assigns, :site_url, site_url()) %>">
    <meta property="og:site_name" content="<%= site_name() %>">
    <meta property="og:type" content="article">
    <%= if Map.has_key?(assigns, :image) and Map.get(assigns, :image) != nil and Map.get(assigns, :image) != "" do %>
      <meta property="og:image" content="<%= Map.get(assigns, :image) %>">
    <% end %>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <link rel="stylesheet" href="<%= static_path(@conn, "/app.css") %>">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400,400i,700">

    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-107274148-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments)};
      gtag('js', new Date());

      gtag('config', 'UA-107274148-1');
      gtag('event', 'page_view', { 'send_to': 'UA-107274148-1' });
    </script>

    <%= if Map.get(assigns, :tex, false) do %>
      <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
      </script>
    <% end %>

  </head>

  <body>
    <div class="container">
      <main role="main" class="full">
        <%= render @view_module, @view_template, assigns %>
      </main>

    <%= if @is_admin do %>
      <%= render WritingWeb.SharedView, "admin_footer.html", assigns %>
    <% else %>
      <%= render WritingWeb.SharedView, "footer.html", assigns %>
    <% end %>

    </div> <!-- /container -->

    <script src="<%= static_path(@conn, "/app.js") %>"></script>
    <script src="<%= static_path(@conn, "/highlight.pack.js") %>"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
